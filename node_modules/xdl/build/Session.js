"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.clientIdAsync = clientIdAsync;
exports.setClientIdAsync = setClientIdAsync;

function _slugid() {
  const data = _interopRequireDefault(require("slugid"));

  _slugid = function () {
    return data;
  };

  return data;
}

function _internal() {
  const data = require("./internal");

  _internal = function () {
    return data;
  };

  return data;
}

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _newIdentifier(type = 'c') {
  return type + '-' + _slugid().default.v4();
}

async function clientIdAsync() {
  let clientId = await _internal().UserSettings.getAsync('accessToken', null);

  if (clientId === null) {
    clientId = _newIdentifier();
    await setClientIdAsync(clientId);
  }

  return clientId;
}

async function setClientIdAsync(token) {
  await _internal().UserSettings.setAsync('accessToken', token);
  return token;
}
//# sourceMappingURL=Session.js.map