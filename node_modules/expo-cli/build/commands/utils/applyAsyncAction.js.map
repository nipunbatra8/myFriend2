{"version":3,"sources":["../../../src/commands/utils/applyAsyncAction.ts"],"names":["applyAsyncActionProjectDir","command","resolve","settings","asyncActionProjectDir","projectRoot","options","mod","actionAsync","applyAsyncAction","asyncAction","args"],"mappings":";;;;;;;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEO,SAASA,0BAAT,CACLC,OADK,EAELC,OAFK,EAGLC,QAHK,EAIL;AACAF,EAAAA,OAAO,CAACG,qBAAR,CAA8B,OAAOC,WAAP,EAA4BC,OAA5B,KAAiD;AAC7E,UAAMC,GAAG,GAAG,MAAML,OAAO,EAAzB;AACA,WAAO,oCAAcK,GAAG,CAACC,WAAlB,EAA+BH,WAA/B,EAA4CC,OAA5C,CAAP;AACD,GAHD,EAGGH,QAHH;AAID;;AAEM,SAASM,gBAAT,CACLR,OADK,EAELC,OAFK,EAGL;AACAD,EAAAA,OAAO,CAACS,WAAR,CAAoB,OAAOC,IAAP,EAAuBL,OAAvB,KAA4C;AAC9D,UAAMC,GAAG,GAAG,MAAML,OAAO,EAAzB;AACA,WAAO,oCAAcK,GAAG,CAACC,WAAlB,EAA+BG,IAA/B,EAAqCL,OAArC,CAAP;AACD,GAHD;AAID","sourcesContent":["import type { Command } from 'commander';\n\nimport { profileMethod } from '../utils/profileMethod';\n\nexport function applyAsyncActionProjectDir<Options = Record<string, any>>(\n  command: Command,\n  resolve: () => Promise<{ actionAsync: (projectRoot: string, options: Options) => Promise<void> }>,\n  settings?: { checkConfig?: boolean }\n) {\n  command.asyncActionProjectDir(async (projectRoot: string, options: Options) => {\n    const mod = await resolve();\n    return profileMethod(mod.actionAsync)(projectRoot, options);\n  }, settings);\n}\n\nexport function applyAsyncAction<Options = Record<string, any>>(\n  command: Command,\n  resolve: () => Promise<{ actionAsync: (args: string[], options: Options) => Promise<void> }>\n) {\n  command.asyncAction(async (args: string[], options: Options) => {\n    const mod = await resolve();\n    return profileMethod(mod.actionAsync)(args, options);\n  });\n}\n"],"file":"applyAsyncAction.js"}