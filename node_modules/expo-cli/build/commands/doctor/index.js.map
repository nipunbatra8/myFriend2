{"version":3,"sources":["../../../src/commands/doctor/index.ts"],"names":["actionAsync","projectRoot","exp","pkg","getConfig","areDepsValid","validateDependenciesVersionsAsync","Doctor","validateExpoServersAsync","validateWithNetworkAsync","NO_ISSUES","Log","log","chalk","green","program","command","description","helpGroup","asyncActionProjectDir"],"mappings":";;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;AAEA,eAAeA,WAAf,CAA2BC,WAA3B,EAAgD;AAC9C,QAAM,gCAAN;AAEA,QAAM;AAAEC,IAAAA,GAAF;AAAOC,IAAAA;AAAP,MAAe,oCAAcC,mBAAd,EAAyBH,WAAzB,CAArB;AACA,QAAMI,YAAY,GAAG,MAAM,oCAAcC,iEAAd,EACzBL,WADyB,EAEzBC,GAFyB,EAGzBC,GAHyB,CAA3B,CAJ8C,CAU9C;;AACA,QAAMI,cAAOC,wBAAP,CAAgCP,WAAhC,CAAN;;AAEA,MAAI,CAAC,MAAMM,cAAOE,wBAAP,CAAgCR,WAAhC,CAAP,MAAyDM,cAAOG,SAAhE,IAA6EL,YAAjF,EAA+F;AAC7FM,mBAAIC,GAAJ,CAAQC,iBAAMC,KAAN,CAAa,6CAAb,CAAR;AACD;AACF;;AAEc,kBAAUC,OAAV,EAA4B;AACzCA,EAAAA,OAAO,CACJC,OADH,CACW,eADX,EAEGC,WAFH,CAEe,kCAFf,EAGGC,SAHH,CAGa,MAHb,EAIGC,qBAJH,CAIyBnB,WAJzB;AAKD","sourcesContent":["import { getConfig } from '@expo/config';\nimport chalk from 'chalk';\nimport type { Command } from 'commander';\nimport { Doctor } from 'xdl';\n\nimport Log from '../../log';\nimport { profileMethod } from '../utils/profileMethod';\nimport { validateDependenciesVersionsAsync } from '../utils/validateDependenciesVersions';\nimport { warnUponCmdExe } from './windows';\n\nasync function actionAsync(projectRoot: string) {\n  await warnUponCmdExe();\n\n  const { exp, pkg } = profileMethod(getConfig)(projectRoot);\n  const areDepsValid = await profileMethod(validateDependenciesVersionsAsync)(\n    projectRoot,\n    exp,\n    pkg\n  );\n\n  // note: this currently only warns when something isn't right, it doesn't fail\n  await Doctor.validateExpoServersAsync(projectRoot);\n\n  if ((await Doctor.validateWithNetworkAsync(projectRoot)) === Doctor.NO_ISSUES && areDepsValid) {\n    Log.log(chalk.green(`ðŸŽ‰ Didn't find any issues with the project!`));\n  }\n}\n\nexport default function (program: Command) {\n  program\n    .command('doctor [path]')\n    .description('Diagnose issues with the project')\n    .helpGroup('info')\n    .asyncActionProjectDir(actionAsync);\n}\n"],"file":"index.js"}